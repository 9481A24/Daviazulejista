<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pisos vinilicos</title>
  <meta name="description" content="M√≥veis planejados com design moderno, funcionalidade e acabamento impec√°vel.">
  <style>
    /* === seu estilo original (mantive) === */
    body {
      margin: 0;
      padding: 0;
      background-image: url('https://raw.githubusercontent.com/9481A24/Reyazulejista/main/Cristallo%20Quartz%20-%20Cam%201_1726426959.jpg');
      background-size: cover;
      background-repeat: no-repeat;
      background-attachment: fixed;
      color: white;
      font-family: Arial, sans-serif;
      text-shadow: 2px 2px 5px #000;
    }
    nav {
      position: fixed; top: 0; left: 0; width: 100%;
      background: rgba(0,0,0,0.6); padding: 15px 10px 15px 20px;
      font-size: 1.5em; font-weight: bold; z-index: 1000;
      display:flex; justify-content:space-between; align-items:center; box-sizing:border-box;
    }
    nav span { color: white; }
    .menu-foto { width:50px; height:50px; border-radius:50%; object-fit:cover; flex-shrink:0; margin-right:140px; cursor:pointer; }

    main { padding-top:80px; min-height:100vh; display:flex; flex-direction:column; align-items:center; text-align:center; }
    .frase-impacto { font-size:1.7em; font-weight:bold; margin-bottom:40px; max-width:700px; }
    h1 { font-size:2.8em; margin-bottom:20px; }
    ul { list-style:none; padding:0; font-size:1.6em; line-height:2.2em; margin-bottom:40px; }
    ul li::before { content: "‚úîÔ∏è "; } ul li { text-align:left; max-width:700px; margin:0 auto 10px; }

    .galeria { width:100%; max-width:700px; display:flex; flex-direction:column; gap:20px; padding:20px; background-color:rgba(0,0,0,0.5); border-radius:10px; margin:0 auto 40px; }
    .galeria img { width:100%; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,0.7); transition: transform 0.3s ease; }
    .galeria img:hover { transform: scale(1.02); }

    .comentarios-container { max-width:700px; margin:40px auto; position:relative; overflow:hidden; border-radius:8px; }
    .comentario { opacity:0; transform:translateX(100%); transition: all 0.6s ease; position:absolute; width:100%; top:0; left:0; background-color:rgba(255,255,255,0.12); padding:20px 25px; border-left:5px solid #25D366; color:#fff; font-size:1.3em; box-shadow:0 6px 18px rgba(0,0,0,0.35);}
    .comentario.ativo { opacity:1; transform:translateX(0); position:relative; }
    .cliente-info { margin-top:12px; font-weight:bold; font-size:1.2em; color:#25D366; display:flex; align-items:center; gap:6px; }
    .telefone { color:#25D366; text-decoration:none; transition: color 0.3s ease; } .telefone:hover { color:#128C7E; }
    .slide-btn { position:absolute; top:50%; transform:translateY(-50%); background-color:rgba(0,0,0,0.5); border:none; color:#fff; font-size:2em; padding:5px 10px; cursor:pointer; border-radius:50%; z-index:10; }
    .slide-btn.prev { left:10px; } .slide-btn.next { right:10px; } .slide-btn:hover { background-color:rgba(0,0,0,0.8); }

    .whatsapp-btn { position:fixed; bottom:30px; right:20px; width:60px; height:60px; background-color:#25D366; border-radius:50%; display:flex; justify-content:center; align-items:center; box-shadow:0 4px 6px rgba(0,0,0,0.3); z-index:9999; cursor:pointer; overflow:visible; }
    .whatsapp-btn img { width:38px; height:38px; }
    .rodape { text-align:left; padding:15px 40px; background: rgba(0,0,0,0.6); font-size:1em; color:#ccc; margin-top:60px; position:relative; z-index:10000; max-width:700px; margin-left:auto; margin-right:auto; border-radius:4px; box-shadow:0 0 10px rgba(0,0,0,0.5); }

    /* === FORMUL√ÅRIO ADMIN (inserido) === */
    /* overlay j√° aplicado para escurecer e permitir scroll */
    #adm-form {
      display:none;
      position: fixed;
      top:0; left:0; width:100%; height:100%;
      background: rgba(0,0,0,0.85);
      color: #fff; padding: 24px; box-sizing:border-box; z-index:10001; overflow:auto;
    }
    #adm-form .panel {
      max-width:980px; margin:0 auto; background:rgba(0,0,0,0.6); padding:18px; border-radius:8px;
    }
    #adm-form h2 { margin-top:0; text-align:center; }
    .adm-row { display:flex; gap:12px; flex-wrap:wrap; }
    .adm-col { flex:1 1 200px; min-width:160px; }
    .adm-col input { width:100%; padding:8px; border-radius:4px; border:1px solid #444; background:#111; color:#fff; box-sizing:border-box; }
    .adm-actions { display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
    .btn { padding:10px 14px; border-radius:6px; border:none; cursor:pointer; }
    .btn.save { background:#25D366; color:#000; font-weight:bold; }
    .btn.reset { background:#dc3545; color:#fff; }
    .btn.print { background:#007bff; color:#fff; }
    .btn.close { background:#666; color:#fff; margin-left:auto; }

    /* rel√≥gio circular */
    #relogio {
      width:180px; height:180px; border-radius:50%; margin:18px auto; display:flex; align-items:center; justify-content:center; font-size:20px; font-weight:bold; background:#000; border:6px solid #25D366;
    }

    /* hist√≥rico tabela */
    #historyTable { width:100%; border-collapse:collapse; margin-top:12px; }
    #historyTable th, #historyTable td { border:1px solid #444; padding:8px; text-align:left; color:#fff; }
    #historyTable th { background:#222; }
    .print-row-btn { background:transparent; color:#fff; border:none; cursor:pointer; font-size:16px; }

    @media (max-width:700px) {
      .adm-row { flex-direction:column; }
    }
  </style>
</head>
<body>

  <nav>
    <span>Davi Azulejista</span>
    <img src="https://raw.githubusercontent.com/9481A24/Reyazulejista/main/IMG-20250717-WA0008.jpg" alt="Foto Davi" class="menu-foto" />
  </nav>

  <main>
    <div class="frase-impacto">
      Pacotes Servi√ßos <br>
      Marido Aluguel <br>
      Pacote Basico-250/M√©s<br>
      Que pagaria <br>
      Em outro lugar
    </div>

    <h1>Nossos Servi√ßos</h1>
    <ul>
      <li>Gesseiro ilumina√ß√£o</li>
      <li>Pedreiro Acabamento</li>
      <li>Eletricista</li>
      <li>Todos tipo Pisos</li>
    </ul>

    <div class="galeria">
      <img src="https://raw.githubusercontent.com/9481A24/Reyazulejista/main/iluminacao-sanca-corredor.jpg" alt="Cozinha planejada" />
      <img src="https://raw.githubusercontent.com/9481A24/Reyazulejista/main/images%20(16).jpeg" alt="Arm√°rio planejado" />
      <img src="https://raw.githubusercontent.com/9481A24/Reyazulejista/main/images%20(17).jpeg" alt="Home office sob medida" />
      <img src="https://raw.githubusercontent.com/9481A24/Reyazulejista/main/WhatsApp_Image_2021-05-25_at_17.33.13_1.jpeg-1030x1030.jpg" alt="Painel e m√≥veis de sala" />
    </div>

    <!-- Carrossel 1 -->
    <div class="comentarios-container" id="carrossel1">
      <div class="comentario ativo">
        <p>‚ÄúFicamos encantados com o projeto da cozinha! Cada detalhe pensado para o nosso espa√ßo.‚Äù</p>
        <div class="cliente-info">
          <span>üìû</span>
          <a href="tel:+5531996126215" class="telefone">(31) 99612-6215</a>
        </div>
      </div>
      <div class="comentario">
        <p>‚ÄúQualidade incr√≠vel e acabamento impec√°vel. Atendimento excelente do in√≠cio ao fim.‚Äù</p>
        <div class="cliente-info">
          <span>üìû</span>
          <a href="tel:+5531996126215" class="telefone">(31) 99612-6215</a>
        </div>
      </div>
      <div class="comentario">
        <p>‚ÄúSuperaram nossas expectativas! Entrega no prazo e m√≥veis lindos.‚Äù</p>
        <div class="cliente-info">
          <span>üìû</span>
          <a href="tel:+5531996126215" class="telefone">(31) 99612-6215</a>
        </div>
      </div>
      <button class="slide-btn prev">&#10094;</button>
      <button class="slide-btn next">&#10095;</button>
    </div>

    <!-- Carrossel 2 -->
    <div class="comentarios-container" id="carrossel2">
      <div class="comentario ativo">
        <p>‚ÄúServi√ßo r√°pido e muito bem feito. Recomendo para todos!‚Äù</p>
        <div class="cliente-info">
          <span>üìû</span>
          <a href="tel:+5531996126215" class="telefone">(31) 99543-9612</a>
        </div>
      </div>
      <div class="comentario">
        <p>‚ÄúProfissionais competentes e simp√°ticos, deixaram nossa casa perfeita.‚Äù</p>
        <div class="cliente-info">
          <span>üìû</span>
          <a href="tel:+5531996126215" class="telefone">(31) 99543-9612</a>
        </div>
      </div>
      <div class="comentario">
        <p>‚ÄúMuito capricho em cada detalhe, resultado impec√°vel!‚Äù</p>
        <div class="cliente-info">
          <span>üìû</span>
          <a href="tel:+5531996126215" class="telefone">(31) 99543-9612</a>
        </div>
      </div>
      <button class="slide-btn prev">&#10094;</button>
      <button class="slide-btn next">&#10095;</button>
    </div>

  </main>

  <!-- WhatsApp -->
  <a class="whatsapp-btn" href="https://wa.me/553100000000" target="_blank" aria-label="WhatsApp">
    <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" alt="WhatsApp" />
  </a>

  <footer class="rodape">
    CNPJ: 59.711.008/0001-09 Jeov√°-Jir√©
  </footer>

  <!-- ================= FORMUL√ÅRIO ADMINISTRATIVO (inserido) ================= -->
  <div id="adm-form" aria-hidden="true">
    <div class="panel">
      <div style="display:flex; align-items:center; gap:12px;">
        <h2 style="flex:1">Formul√°rio Administrativo</h2>
        <button class="btn close" id="btnCloseAdm">Fechar</button>
      </div>

      <div class="adm-row" style="margin-top:12px;">
        <div class="adm-col">
          <label>Nome</label><input id="f_nome" type="text">
        </div>
        <div class="adm-col">
          <label>Endere√ßo</label><input id="f_endereco" type="text">
        </div>
        <div class="adm-col">
          <label>Bairro</label><input id="f_bairro" type="text">
        </div>
        <div class="adm-col">
          <label>Cidade</label><input id="f_cidade" type="text">
        </div>
        <div class="adm-col">
          <label>Servi√ßo</label><input id="f_servico" type="text">
        </div>
        <div class="adm-col">
          <label>Valor (R$)</label><input id="f_valor" type="number" step="0.01" min="0">
        </div>
      </div>

      <div id="relogio">R$ 0.00</div>

      <div class="adm-actions">
        <button class="btn save" id="btnSave">Salvar Entrada</button>
        <button class="btn reset" id="btnZerar">Zerar</button>
        <button class="btn print" id="btnPrintLast">Imprimir √öltimo</button>
      </div>

      <div id="history" style="margin-top:16px;">
        <h3>Hist√≥rico de Entradas</h3>
        <table id="historyTable">
          <thead>
            <tr>
              <th>Data/Hora</th>
              <th>Nome</th>
              <th>Servi√ßo</th>
              <th>Valor</th>
              <th>Imprimir</th>
            </tr>
          </thead>
          <tbody id="historyBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <div id="comprovante" style="display:none;"></div>

  <script>
    /* === carrossel (mantive igual ao seu) === */
    function criarCarrossel(containerId) {
      const container = document.getElementById(containerId);
      if(!container) return;
      const comentarios = container.querySelectorAll('.comentario');
      const prevBtn = container.querySelector('.slide-btn.prev');
      const nextBtn = container.querySelector('.slide-btn.next');
      let index = 0;
      function mostrarComentario(novoIndex) {
        comentarios.forEach((c) => c.classList.remove('ativo'));
        comentario = comentarios[novoIndex];
        comentarios[novoIndex].classList.add('ativo');
        index = novoIndex;
      }
      if(prevBtn) prevBtn.addEventListener('click', () => {
        let novoIndex = index - 1;
        if(novoIndex < 0) novoIndex = comentarios.length - 1;
        mostrarComentario(novoIndex);
      });
      if(nextBtn) nextBtn.addEventListener('click', () => {
        let novoIndex = (index + 1) % comentarios.length;
        mostrarComentario(novoIndex);
      });
      setInterval(() => {
        if(comentarios.length === 0) return;
        let novoIndex = (index + 1) % comentarios.length;
        mostrarComentario(novoIndex);
      }, 5000);
      if(comentarios.length) mostrarComentario(index);
    }
    criarCarrossel('carrossel1');
    criarCarrossel('carrossel2');

    /* === clique secreto (5 toques/5 cliques) - mais robusto === */
    (function(){
      const foto = document.querySelector('.menu-foto');
      const adm = document.getElementById('adm-form');
      if(!foto) {
        console.warn('Elemento .menu-foto n√£o encontrado ‚Äî clique secreto n√£o ativado.');
        return;
      }
      let timestamps = [];
      foto.addEventListener('pointerdown', () => {
        const now = Date.now();
        timestamps.push(now);
        // mant√©m apenas toques dos √∫ltimos 2000ms
        timestamps = timestamps.filter(t => now - t <= 2000);
        if(timestamps.length >= 5) {
          // toggle
          adm.style.display = (adm.style.display === 'block') ? 'none' : 'block';
          adm.setAttribute('aria-hidden', adm.style.display === 'none' ? 'true' : 'false');
          timestamps = [];
        }
      });
    })();

    /* === formul√°rio / hist√≥rico / rel√≥gio / impress√£o === */
    (function(){
      const btnSave = document.getElementById('btnSave');
      const btnZerar = document.getElementById('btnZerar');
      const btnPrintLast = document.getElementById('btnPrintLast');
      const btnClose = document.getElementById('btnCloseAdm');
      const historyBody = document.getElementById('historyBody');
      const relogio = document.getElementById('relogio');

      let total = 0;
      let historico = [];

      function atualizarRelogio() {
        relogio.innerText = 'R$ ' + total.toFixed(2);
      }

      function adicionarLinhaHistorico(entry, idx) {
        // cria√ß√£o de linha segura (evita problemas com aspas)
        const tr = document.createElement('tr');
        const tdData = document.createElement('td');
        const tdNome = document.createElement('td');
        const tdServico = document.createElement('td');
        const tdValor = document.createElement('td');
        const tdPrint = document.createElement('td');
        tdData.textContent = entry.dataHora;
        tdNome.textContent = entry.nome;
        tdServico.textContent = entry.servico;
        tdValor.textContent = 'R$ ' + entry.valor.toFixed(2);
        const btn = document.createElement('button');
        btn.className = 'print-row-btn';
        btn.title = 'Imprimir este comprovante';
        btn.innerHTML = 'üñ®Ô∏è';
        btn.dataset.idx = idx;
        tdPrint.appendChild(btn);
        tr.appendChild(tdData);
        tr.appendChild(tdNome);
        tr.appendChild(tdServico);
        tr.appendChild(tdValor);
        tr.appendChild(tdPrint);
        historyBody.appendChild(tr);
      }

      function salvarEntrada() {
        const nome = document.getElementById('f_nome').value.trim();
        const endereco = document.getElementById('f_endereco').value.trim();
        const bairro = document.getElementById('f_bairro').value.trim();
        const cidade = document.getElementById('f_cidade').value.trim();
        const servico = document.getElementById('f_servico').value.trim();
        const valorRaw = document.getElementById('f_valor').value;
        const valor = parseFloat(valorRaw);
        if(!nome) { alert('Preencha o nome'); return; }
        if(isNaN(valor) || valor <= 0) { alert('Digite um valor v√°lido maior que 0'); return; }
        const dataHora = new Date().toLocaleString('pt-BR');
        const entry = { nome, endereco, bairro, cidade, servico, valor, dataHora };
        historico.push(entry);
        total += valor;
        atualizarRelogio();
        adicionarLinhaHistorico(entry, historico.length - 1);
        // gerar comprovante em mem√≥ria (para bot√£o imprimir √∫ltimo)
        gerarComprovante(entry);
        // limpar campos
        document.getElementById('f_nome').value = '';
        document.getElementById('f_endereco').value = '';
        document.getElementById('f_bairro').value = '';
        document.getElementById('f_cidade').value = '';
        document.getElementById('f_servico').value = '';
        document.getElementById('f_valor').value = '';
      }

      function zerarEntradas() {
        if(!confirm('Deseja realmente zerar todas as entradas e o total?')) return;
        total = 0; historico = [];
        historyBody.innerHTML = '';
        atualizarRelogio();
        document.getElementById('comprovante').innerHTML = '';
      }

      // guarda √∫ltimo comprovante gerado na div #comprovante
      function gerarComprovante(entry) {
        const comp = document.getElementById('comprovante');
        comp.innerHTML = `
          <div style="font-family:Arial,sans-serif;color:#000;padding:12px;">
            <h2 style="text-align:center;">Comprovante de Servi√ßo</h2>
            <p><b>Data/Hora:</b> ${entry.dataHora}</p>
            <p><b>Nome:</b> ${entry.nome}</p>
            <p><b>Endere√ßo:</b> ${entry.endereco} - ${entry.bairro} - ${entry.cidade}</p>
            <p><b>Servi√ßo:</b> ${entry.servico}</p>
            <p><b>Valor:</b> R$ ${entry.valor.toFixed(2)}</p>
          </div>
        `;
      }

      // imprime comprovante (por √≠ndice) - usado pelo bot√£o em cada linha
      function imprimirPorIndice(idx) {
        const ent = historico[idx];
        if(!ent) { alert('Registro n√£o encontrado'); return; }
        const html = `
          <html><head><title>Comprovante</title></head>
          <body style="font-family:Arial,sans-serif;padding:16px;">
            <h2 style="text-align:center;">Comprovante de Servi√ßo</h2>
            <p><strong>Data/Hora:</strong> ${ent.dataHora}</p>
            <p><strong>Nome:</strong> ${ent.nome}</p>
            <p><strong>Endere√ßo:</strong> ${ent.endereco} - ${ent.bairro} - ${ent.cidade}</p>
            <p><strong>Servi√ßo:</strong> ${ent.servico}</p>
            <p><strong>Valor:</strong> R$ ${ent.valor.toFixed(2)}</p>
            <hr>
            <p>Obrigado pela prefer√™ncia!</p>
          </body></html>
        `;
        const w = window.open('', '', 'width=500,height=600');
        w.document.write(html);
        w.document.close();
        w.focus();
        w.print();
      }

      // imprimir √∫ltimo (bot√£o)
      function imprimirUltimo() {
        if(historico.length === 0) { alert('Nenhuma entrada para imprimir'); return; }
        imprimirPorIndice(historico.length - 1);
      }

      // delega√ß√£o de evento para imprimir linha clicada
      historyBody.addEventListener('click', function(e){
        const btn = e.target.closest('button.print-row-btn');
        if(!btn) return;
        const idx = parseInt(btn.dataset.idx, 10);
        if(!isNaN(idx)) imprimirPorIndice(idx);
      });

      // ligar bot√µes
      btnSave.addEventListener('click', salvarEntrada);
      btnZerar.addEventListener('click', zerarEntradas);
      btnPrintLast.addEventListener('click', imprimirUltimo);
      btnClose.addEventListener('click', () => {
        document.getElementById('adm-form').style.display = 'none';
      });

      // expose to console for debug if needed
      window._adm_debug = { historico, getTotal: () => total };
    })();
  </script>
</body>
</html>

